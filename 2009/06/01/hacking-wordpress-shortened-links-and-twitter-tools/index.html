<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="robots" content="noodp,noydir">
  <meta name="pinterest" content="nopin">

  <link rel="icon" type="image/png" sizes="32x32" href="/images/brand/favicon.png">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/images/brand/icon-1-1.png">
  <link rel="canonical" href="https://www.juanorozco.com/2009/06/01/hacking-wordpress-shortened-links-and-twitter-tools/">
  
<link rel="preload" as="style" href="/app.css?v=1585687369" media="all">
<link rel="stylesheet" href="/app.css?v=1585687369" media="all">


<title>Hacking WordPress shortened links and Twitter Tools : Juan Orozco</title>

<meta property="og:title" content="Hacking WordPress shortened links and Twitter Tools">
<meta property="og:site_name" content="Juan Orozco">
<meta property="og:url" content="https://www.juanorozco.com/2009/06/01/hacking-wordpress-shortened-links-and-twitter-tools/">
<link rel="image_src" href="https://www.juanorozco.com/page-default.webp">
<meta property="og:image" content="https://www.juanorozco.com/page-default.webp">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="og:type" content="article">
<meta property="og:locale" content="en_us">
<meta property="og:description" content="This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr&#39;s own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it&#39;s context; it is a Flickr image.">
<meta name="description" content="This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr&#39;s own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it&#39;s context; it is a Flickr image.">
<meta property="og:updated_time" content="2009-06-01T17:22:04Z">
<meta property="fb:app_id" content="">
<meta name="author" content="Juan Orozco">
<meta property="article:author" content="https://juanorozco.com/">
<meta property="article:published_time" content="2009-06-01T17:22:04Z">
<meta property="article:modified_time" content="2009-06-01T17:22:04Z">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Hacking WordPress shortened links and Twitter Tools",
  "url": "https://www.juanorozco.com/2009/06/01/hacking-wordpress-shortened-links-and-twitter-tools/",
  "image": "https://www.juanorozco.com/page-default.webp",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.juanorozco.com/2009/06/01/hacking-wordpress-shortened-links-and-twitter-tools/"
  },
  "description": "This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr's own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.",
  "author": {
    "@type": "Person",
    "name": "Juan Orozco"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Juan Orozco",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.juanorozco.com/images/brand/icon-1-1.png"
    }
  },
  "datePublished": "2009-06-01T17:22:04Z",
  "dateModified": "2009-06-01T17:22:04Z",
  "articleBody": "\u003cp\u003eThis shortened URL business really has gotten out of hand.  \u003ca href=\"http://www.morningtoast.com/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eMorning Toast\u003c/a\u003e \u003ca href=\"http://www.morningtoast.com/2009/05/why-tiny-urls-change-how-we-design/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ewrote a rant\u003c/a\u003e about it a few days ago and it got me thinking about their usefulness.  He also twittered about \u003ca href=\"http://www.flickr.com/groups/flickrideas/discuss/72157616526758077/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eFlickr's own URL shortener\u003c/a\u003e as well.  Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.\u003c/p\u003e\n\u003cp\u003eI found out about this idea of using \u0026quot;\u003ca href=\"http://revcanonical.appspot.com/\"\u003erev=canonical\u003c/a\u003e\u0026quot; within a link.  I'm still trying to understand the whole concept: essentially if a link is created, a shortener service checks if the link owner has already shortened it.  If the owner has indeed shortened it, the shortener service will provide the owner's short URL to the request-or.  That's way to complicated for me, but it would be nice have my own shortened links when I post them to a service like Twitter.\u003c/p\u003e\n\u003cp\u003eThen it hit me.\u003c/p\u003e\n\u003cp\u003eI remembered that when you first install WordPress, \u0026quot;pretty\u0026quot; permalinks are deactivated.  Running in this default mode, a post link looks like this: \u003ca href=\"http://guamaso.com/?p=293\"\u003ehttp://guamaso.com/?p=293\u003c/a\u003e.  It still doesn't have the context of the post itself, but at least now you know that it is related to The Guamaso.  It may not be shorter than \u003ca href=\"http://bit.ly/1m4Qp\"\u003ehttp://bit.ly/1m4Qp\u003c/a\u003e, but the added context is worth it to me.\u003c/p\u003e\n\u003cp\u003eSo how do I implement this \u0026quot;built-in shortener?\u0026quot;  I use Twitter Tools to automatically send a blog post to Twitter.  Why not use Twitter Tools to send the short URL instead of the pretty URL!  I changed a few things on line 466:\u003c/p\u003e\n\u003cp\u003e**$shorturl = get_bloginfo('url');\u003c/p\u003e\n\u003cp\u003e$shorturl .= \u0026quot;/?p=\u0026quot;;\u003c/p\u003e\n\u003cp\u003e$shorturl .= $post_id;**\u003c/p\u003e\n\u003cp\u003eLINE 466: $url = apply_filters('tweet_blog_post_url', \u003cstrong\u003e$shorturl\u003c/strong\u003e);\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUPDATE: The items in bold are what I changed / added.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI sent a a test \u0026quot;twit\u0026quot; to Twitter earlier and it worked (actually, I initially forgot to add the \u0026quot;p\u0026quot; but it's in there now.).  So instead of passing the full permalink that will get shortened by Twitter anyway, it now sends the shorter WordPress URL that starts with my domain name.  Boom.\u003c/p\u003e\n\u003cp\u003eI don't think a reader can find the post's ID without direct access to the Admin area, so providing this short link for the reader to use is the \u003cem\u003ekey\u003c/em\u003e to making this method successful.  I'd also like to see more plugins that use these shorter links when posting to Twitter.  It makes way more sense then letting Twitter make the decision.  On the other hand, blogs that post 10+ entries a day may out grow it in a few years... but hey, maybe by then we'll jump to the next social trend anyway.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUPDATE 2: Scratch everything I just said!  Don't edit Twitter Tools, instead download the \u003ca title=\"Twitter Friendly Links Plug In\" href=\"http://kovshenin.com/wordpress/plugins/twitter-friendly-links/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eTwitter Friendly Links plug-in\u003c/a\u003e.  It works with rev=canonical, Twitter Tools, and it will also add the short link on your posts for your readers.  The best part is it will make the link shorter than with the hack I explained above.  Instead of \u003ca href=\"../?p=293\"\u003ehttp://guamaso.com/?p=293\u003c/a\u003e it will be [][2]\u003ca href=\"/293\"\u003ehttp://guamaso.com/293\u003c/a\u003e. Good plugin, give it a try!\u003c/strong\u003e\u003c/p\u003e"
}
</script>

  
<link rel="preload" as="script" href="/app.js?v=1585687369">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://stats.g.doubleclick.net">
<link rel="preconnect" href="https://www.googleadservices.com">
<link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=%25!s%28%3cnil%3e%29">
<script src="https://www.googletagmanager.com/gtag/js?id=%25!s%28%3cnil%3e%29"></script>
<script>
  window.dataLayer=window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js',new Date());
  gtag('config','');
</script>

</head>
<body>
  <header id="nav" class="relative shadow-b bg-white">
  <div class="px-4 py-3">
    <div class="flex items-center mx-auto max-w-6xl">
      <div>
        <a class="block p-1 h-9 w-9 text-white bg-raven-800 hover:bg-raven-900" href="/">
          <p style="text-align: center;">JO</p>
        </a>
      </div>
      <div class="ml-auto flex items-center">
        <a class="p-2 h-8 w-8 block text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" target="_blank" rel="noopener nofollow" href="https://www.google.com/search?q=site:juanorozco.com">
          <svg class="fill-current" viewBox="0 0 512 512"><path d="M42.72 204.853c0-89.43 72.704-162.133 162.133-162.133s162.133 72.704 162.133 162.133-72.704 162.133-162.133 162.133S42.72 294.283 42.72 204.853h0zm463.087 270.78L363.915 333.74c68.598-84.65 58.908-208.192-22.05-281.113S137.03-17.06 59.985 59.985s-80.277 200.922-7.357 281.88 196.462 90.648 281.113 22.05l141.892 141.892c5.4 5.4 13.246 7.495 20.61 5.522s13.114-7.724 15.087-15.087-.132-15.22-5.522-20.61h0z"/></svg>
        </a>
        <a class="ml-3 block text-sm leading-none  text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/now/">
          Now
        </a>
        <a class="ml-3 block text-sm leading-none  text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/chat/">
          Chat
        </a>
        <a class="ml-3 block text-sm leading-none  text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/manifesto/">
          Manifesto
        </a>
        <a class="ml-3 block text-sm leading-none  text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/blog/">
          Archive
        </a>
      </div>
    </div>
  </div>
</header>

<main><div class="mt-8 mx-4 md:mx-8">
    <div class="mx-auto w-full max-w-2xlp">
      <article class="cdata">
        <h1>Hacking WordPress shortened links and Twitter Tools</h1>

        <div class="mt-4 flex items-center">
          <div class="w-full">
            
<div class="flex items-center">
  <div class="flex-shrink-0">
    <img
    class="w-14 h-14 object-cover p-05 rounded-full border border-blue-300"
    src="/images/author/juan-orozco.jpg"
    alt="Juan Orozco">
  </div>
  <div class="flex-shrink-0 ml-2 leading-tight font-content-sans">
    <a class="block text-base text-raven-800 hover:text-raven-900 hover:underline focus:underline" target="_blank" rel="noopener nofollow" title="Juan Orozco" href="https://juanorozco.com/">Juan Orozco</a>
    <time class="text-base text-raven-500" datetime="2009-06-01T17:22:04Z">Jun 1, 2009</time>
  </div>
</div>

          </div>
          <div>
            
<div class="flex items-center">
  <a class="flex-shrink-0 block text-raven-800 hover:text-raven-900" target="_blank" rel="noopener nofollow" title="Share on Twitter" href="https://twitter.com/intent/tweet?text=Hacking%20WordPress%20shortened%20links%20and%20Twitter%20Tools%20by%20%40%25%21s%28%3cnil%3e%29%20https%3a%2f%2fwww.juanorozco.com%2f2009%2f06%2f01%2fhacking-wordpress-shortened-links-and-twitter-tools%2f"><svg class="w-6 h-6 fill-current" viewBox="0 0 512 512"><path d="M512 97.248c-19.04 8.352-39.328 13.888-60.48 16.576 21.76-12.992 38.368-33.408 46.176-58.016-20.288 12.096-42.688 20.64-66.56 25.408C411.872 60.704 384.416 48 354.464 48c-58.112 0-104.896 47.168-104.896 104.992 0 8.32.704 16.32 2.432 23.936-87.264-4.256-164.48-46.08-216.352-109.792-9.056 15.712-14.368 33.696-14.368 53.056 0 36.352 18.72 68.576 46.624 87.232-16.864-.32-33.408-5.216-47.424-12.928v1.152c0 51.008 36.384 93.376 84.096 103.136-8.544 2.336-17.856 3.456-27.52 3.456-6.72 0-13.504-.384-19.872-1.792 13.6 41.568 52.192 72.128 98.08 73.12-35.712 27.936-81.056 44.768-130.144 44.768-8.608 0-16.864-.384-25.12-1.44C46.496 446.88 101.6 464 161.024 464c193.152 0 298.752-160 298.752-298.688 0-4.64-.16-9.12-.384-13.568 20.832-14.784 38.336-33.248 52.608-54.496z"/></svg></a>

  <a class="ml-3 flex-shrink-0 block text-raven-800 hover:text-raven-900" target="_blank" rel="noopener nofollow" title="Share on Facebook" href="https://www.facebook.com/dialog/share?app_id=&display=page&href=https%3a%2f%2fwww.juanorozco.com%2f2009%2f06%2f01%2fhacking-wordpress-shortened-links-and-twitter-tools%2f"><svg class="w-6 h-6 fill-current" viewBox="-116 -58 628 628"><path d="M483.737501,5.79150981e-07 L28.2375006,5.79150981e-07 C12.6406254,0.00937561915 -0.00312442085,12.6593758 5.79150981e-07,28.2625006 L5.79150981e-07,483.762501 C0.00937561915,499.359376 12.6593758,512.003125 28.2625006,512.000001 L273.500001,512.000001 L273.500001,314.000001 L207.000001,314.000001 L207.000001,236.500001 L273.500001,236.500001 L273.500001,179.465625 C273.500001,113.325001 313.878125,77.3250006 372.878125,77.3250006 C401.137501,77.3250006 425.421876,79.4312502 432.500001,80.3718758 L432.500001,149.500001 L391.815625,149.500001 C359.715625,149.500001 353.500001,164.753125 353.500001,187.140625 L353.500001,236.500001 L430.250001,236.500001 L420.250001,314.000001 L353.500001,314.000001 L353.500001,512.000001 L483.737501,512.000001 C499.343751,512.003125 511.996876,499.35625 512.000001,483.750001 L512.000001,483.737501 L512.000001,28.2375006 C511.993751,12.6406254 499.340625,-0.00312442085 483.737501,5.79150981e-07 L483.737501,5.79150981e-07 Z"/></svg></a>
</div>

          </div>
        </div>

        <p>This shortened URL business really has gotten out of hand.  <a href="http://www.morningtoast.com/" target="_blank" rel="noopener noreferrer">Morning Toast</a> <a href="http://www.morningtoast.com/2009/05/why-tiny-urls-change-how-we-design/" target="_blank" rel="noopener noreferrer">wrote a rant</a> about it a few days ago and it got me thinking about their usefulness.  He also twittered about <a href="http://www.flickr.com/groups/flickrideas/discuss/72157616526758077/" target="_blank" rel="noopener noreferrer">Flickr's own URL shortener</a> as well.  Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.</p>
<p>I found out about this idea of using &quot;<a href="http://revcanonical.appspot.com/">rev=canonical</a>&quot; within a link.  I'm still trying to understand the whole concept: essentially if a link is created, a shortener service checks if the link owner has already shortened it.  If the owner has indeed shortened it, the shortener service will provide the owner's short URL to the request-or.  That's way to complicated for me, but it would be nice have my own shortened links when I post them to a service like Twitter.</p>
<p>Then it hit me.</p>
<p>I remembered that when you first install WordPress, &quot;pretty&quot; permalinks are deactivated.  Running in this default mode, a post link looks like this: <a href="http://guamaso.com/?p=293">http://guamaso.com/?p=293</a>.  It still doesn't have the context of the post itself, but at least now you know that it is related to The Guamaso.  It may not be shorter than <a href="http://bit.ly/1m4Qp">http://bit.ly/1m4Qp</a>, but the added context is worth it to me.</p>
<p>So how do I implement this &quot;built-in shortener?&quot;  I use Twitter Tools to automatically send a blog post to Twitter.  Why not use Twitter Tools to send the short URL instead of the pretty URL!  I changed a few things on line 466:</p>
<p>**$shorturl = get_bloginfo('url');</p>
<p>$shorturl .= &quot;/?p=&quot;;</p>
<p>$shorturl .= $post_id;**</p>
<p>LINE 466: $url = apply_filters('tweet_blog_post_url', <strong>$shorturl</strong>);</p>
<p><strong>UPDATE: The items in bold are what I changed / added.</strong></p>
<p>I sent a a test &quot;twit&quot; to Twitter earlier and it worked (actually, I initially forgot to add the &quot;p&quot; but it's in there now.).  So instead of passing the full permalink that will get shortened by Twitter anyway, it now sends the shorter WordPress URL that starts with my domain name.  Boom.</p>
<p>I don't think a reader can find the post's ID without direct access to the Admin area, so providing this short link for the reader to use is the <em>key</em> to making this method successful.  I'd also like to see more plugins that use these shorter links when posting to Twitter.  It makes way more sense then letting Twitter make the decision.  On the other hand, blogs that post 10+ entries a day may out grow it in a few years... but hey, maybe by then we'll jump to the next social trend anyway.</p>
<p><strong>UPDATE 2: Scratch everything I just said!  Don't edit Twitter Tools, instead download the <a title="Twitter Friendly Links Plug In" href="http://kovshenin.com/wordpress/plugins/twitter-friendly-links/" target="_blank" rel="noopener noreferrer">Twitter Friendly Links plug-in</a>.  It works with rev=canonical, Twitter Tools, and it will also add the short link on your posts for your readers.  The best part is it will make the link shorter than with the hack I explained above.  Instead of <a href="../?p=293">http://guamaso.com/?p=293</a> it will be [][2]<a href="/293">http://guamaso.com/293</a>. Good plugin, give it a try!</strong></p>

      </article>
      

    </div>
  </div>
</main>

<footer class="mx-4 mt-8 mb-6">
  <hr class="mt-0 hr-fade">
  <nav class="mt-4 flex items-center justify-center">
  <a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href="/blog/">Archive</a>
  <a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href="/now/">Now</a>
</nav>

  <div class="mt-2 text-sm text-center text-gray-500">&#169; 2000-2020 Juan Orozco</div>
  <div class="mt-2 text-xs text-center text-gray-500">Powered by <a href="https://www.jhaurawachsman.com/axiom/">Axiom</a></div>

</footer>

<script src="/app.js?v=1585687369"></script>
  <script defer src="/prism.js?v=1585687369"></script>

</body>
</html>
