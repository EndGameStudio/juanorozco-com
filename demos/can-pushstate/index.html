<!DOCTYPE html>
<html>
<head>
<script src="https://code.jquery.com/jquery.min.js"></script>
<script src="//canjs.com/release/2.2.6/can.jquery.js"></script>
<script src="//canjs.com/release/2.2.6/can.stache.js"></script>
<script src="//canjs.com/release/2.2.6/can.route.pushstate.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
</head>
<body>
  <div id="demo"></div>
  <script id="template" type="text/stache">
    <h1>Pushstate Test</h1>
    <p><a href="{{link}}" target="_blank">Should Open In New Tab</a></p>
    <p><a href="{{link}}">Ctrl click me</a></p>
    <h2></h2>
    <pre id="debugging></pre>
  </script>
  <script type="text/javascript">
    can.route("demos/can-pushstate/:page", {page: 'homepage'});
    
    can.route.bind('change', function (ev, item, type, newVal) {
      can.$('body').append(arguments[1] + ' || ' + arguments[2] + ' || ' + arguments[3] + '\n');
      console.log('route changed', arguments);
    });
    
    var template = can.view.render('template');
    
    can.$('#demo').append(template({link: '?page=contact-me'}));
    
    can.route.ready();
    
  </script>
</body>
</html>
